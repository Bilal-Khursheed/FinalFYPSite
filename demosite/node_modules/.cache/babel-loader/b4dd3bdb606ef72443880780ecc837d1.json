{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\React Work\\\\demoProject\\\\demosite\\\\src\\\\componets\\\\Pages\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport App from \"../../App\";\nimport axios from \"axios\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n      console.log(\" login e value\", e.target.value);\n    };\n\n    this.handleSubmit = async e => {\n      console.log(\"name\" + this.state.email);\n      console.log(\"email\" + this.state.password);\n      e.preventDefault(); //this will assign these variable values from this.state\n\n      const _this$state = this.state,\n            email = _this$state.email,\n            password = _this$state.password;\n      console.log(\"name after assigning\" + email); //this will send data to rest api then api will send mail with given data to admin\n\n      fetch(\"/user/check/?email=\".concat(email, \"&&pass=\").concat(password)).then(respone => respone.json()) // .then(() => setTimeout(() => this.setState({ navigate: true }), 2000))\n      .then(Result => {\n        if (Result.status === \"success\") {\n          if (Result.role === \"\") console.log(\"Login successFully\");\n          this.setState({\n            auth: true\n          });\n          console.log(\"auth after login is \", this.state.auth);\n          setTimeout(() => this.setState({\n            navigate: true\n          }), 20); //<Redirect to=\"/admin\"/>;\n        } else {\n          alert(\"Sorrrrrry !!!! Un-authenticated User\");\n          window.location.reload(false);\n        }\n      }).catch(err => console.error(err));\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      auth: false,\n      navigate: false,\n      role: 0\n    };\n  } //i was doing this for private route purpose\n\n  /*islogin = () => {\r\n    console.log(\"this is the auth for login\", this.state.auth);\r\n    return this.state.auth;\r\n  };*/\n\n\n  //   const form = await axios\n  //     .post(\"/users/check\", {\n  //       email,\n  //       password\n  //     })\n  //     .then(result => {\n  //       if (result.status === 200) {\n  //         console.log(\"login successfully\");\n  //         //window.location = \"/\";\n  //       } else {\n  //         console.log(\"login not accepted\");\n  //       }\n  //     })\n  //     .catch(e => {\n  //       console.log(e);\n  //     });\n  // };\n  render() {\n    if (this.state.navigate) {\n      return React.createElement(Redirect, {\n        to: \"/adminportal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      });\n    }\n\n    return (// <div>\n      // <app auth={this.state.auth} /></div>\n      React.createElement(\"div\", {\n        className: \"loginbackground\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"loginbody container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex justify-content-center h-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Login\")), React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        method: \"POST\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"input-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }))), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"email\",\n        name: \"email\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"input-group form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"input-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-key\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }))), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        name: \"password\",\n        placeholder: \"password\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row align-items-center remember\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \" Remember Me\")), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Login\",\n        className: \"btn float-right login_btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"card-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex justify-content-center links\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Don't have an account?\", React.createElement(Link, {\n        to: \"/signup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Sign Up\")), React.createElement(\"div\", {\n        className: \"d-flex justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Forgot your password? \")))))))\n    );\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/React Work/demoProject/demosite/src/componets/Pages/Login.js"],"names":["React","Component","Link","Redirect","App","axios","Login","constructor","props","handleChange","e","setState","target","name","value","console","log","handleSubmit","state","email","password","preventDefault","fetch","then","respone","json","Result","status","role","auth","setTimeout","navigate","alert","window","location","reload","catch","err","error","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport App from \"../../App\";\r\nimport axios from \"axios\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      auth: false,\r\n      navigate: false,\r\n      role: 0\r\n    };\r\n  }\r\n  //i was doing this for private route purpose\r\n  /*islogin = () => {\r\n    console.log(\"this is the auth for login\", this.state.auth);\r\n    return this.state.auth;\r\n  };*/\r\n  handleChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n    console.log(\" login e value\", e.target.value);\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    console.log(\"name\" + this.state.email);\r\n    console.log(\"email\" + this.state.password);\r\n    e.preventDefault();\r\n    //this will assign these variable values from this.state\r\n    const { email, password } = this.state;\r\n    console.log(\"name after assigning\" + email);\r\n    //this will send data to rest api then api will send mail with given data to admin\r\n    fetch(`/user/check/?email=${email}&&pass=${password}`)\r\n      .then((respone) => respone.json())\r\n      // .then(() => setTimeout(() => this.setState({ navigate: true }), 2000))\r\n      .then((Result) => {\r\n        if (Result.status === \"success\") {\r\n          if(Result.role ===\"\")\r\n          console.log(\"Login successFully\");\r\n          this.setState({ auth: true });\r\n          console.log(\"auth after login is \", this.state.auth);\r\n          setTimeout(() => this.setState({ navigate: true }), 20);\r\n          \r\n          //<Redirect to=\"/admin\"/>;\r\n        } else {\r\n          \r\n          alert(\"Sorrrrrry !!!! Un-authenticated User\");\r\n          window.location.reload(false);\r\n        }\r\n      })\r\n      .catch((err) => console.error(err));\r\n  };\r\n\r\n  //   const form = await axios\r\n  //     .post(\"/users/check\", {\r\n  //       email,\r\n  //       password\r\n  //     })\r\n  //     .then(result => {\r\n  //       if (result.status === 200) {\r\n  //         console.log(\"login successfully\");\r\n  //         //window.location = \"/\";\r\n  //       } else {\r\n  //         console.log(\"login not accepted\");\r\n  //       }\r\n  //     })\r\n  //     .catch(e => {\r\n  //       console.log(e);\r\n  //     });\r\n  // };\r\n\r\n  render() {\r\n    if (this.state.navigate) {\r\n      return <Redirect to=\"/adminportal\" />;\r\n    }\r\n    return (\r\n      // <div>\r\n      // <app auth={this.state.auth} /></div>\r\n      <div className=\"loginbackground\">\r\n        <div className=\"loginbody container\">\r\n          <div className=\"d-flex justify-content-center h-100\">\r\n            <div className=\"card\">\r\n              <div className=\"card-header\">\r\n                <h3>Login</h3>\r\n              </div>\r\n\r\n              <div className=\"card-body\">\r\n                <form method=\"POST\" onSubmit={this.handleSubmit}>\r\n                  <div className=\"input-group form-group\">\r\n                    <div className=\"input-group-prepend\">\r\n                      <span className=\"input-group-text\">\r\n                        <i className=\"fas fa-user\"></i>\r\n                      </span>\r\n                    </div>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"email\"\r\n                      name=\"email\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"input-group form-group\">\r\n                    <div className=\"input-group-prepend\">\r\n                      <span className=\"input-group-text\">\r\n                        <i className=\"fas fa-key\"></i>\r\n                      </span>\r\n                    </div>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"password\"\r\n                      placeholder=\"password\"\r\n                      onChange={this.handleChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"row align-items-center remember\">\r\n                    <input type=\"checkbox\"/>\r\n                    <label> Remember Me</label>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input\r\n                      type=\"submit\"\r\n                      value=\"Login\"\r\n                      className=\"btn float-right login_btn\"\r\n                    />\r\n                  </div>\r\n                </form>\r\n              </div>\r\n              <div className=\"card-footer\">\r\n                <div className=\"d-flex justify-content-center links\">\r\n                  Don't have an account?<Link to=\"/signup\">Sign Up</Link>\r\n                </div>\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <Link to=\"#\">Forgot your password? </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}