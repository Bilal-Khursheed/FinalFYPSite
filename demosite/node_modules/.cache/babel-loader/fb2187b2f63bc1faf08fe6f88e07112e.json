{"ast":null,"code":"import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nclass Auth {\n  constructor() {\n    this.authenticated = false;\n    this.auth = false;\n    this.navigate = false;\n    this.role = 0;\n  }\n  /*state = {\r\n    auth: false,\r\n    navigate: false,\r\n    role: 0,\r\n  };*/\n\n\n  login(cb) {\n    /*const email = \"bilal.khursheed617@gmail.com\";\r\n    const pass = \"12345\";\r\n    fetch(`/user/check/?email=${email}&&pass=${pass}`)\r\n      //fetch(`/user/check/?email=\"Bilal.khursheed617@gmail.com\" && pass=\"12345\"`)\r\n      .then((respone) => respone.json())\r\n      // .then(() => setTimeout(() => this.setState({ navigate: true }), 2000))\r\n      .then((Result) => {\r\n        if (Result.status === \"success\") {\r\n          this.authenticated = true;\r\n          if (Result.role === \"doctor\") {\r\n            console.log(\"doctor Login successFully\");\r\n            //this.setState({ auth: true });\r\n            //this.setState({ role: 1 });\r\n            this.role = 1;\r\n            // console.log(\"auth after login is \", this.state.auth);\r\n            //setTimeout(() => this.setState({ navigate: true }), 20);\r\n            setTimeout(() => (this.navigate = true), 20);\r\n          } else if (Result.role === \"Admin\") {\r\n            console.log(\"admin Login successFully\");\r\n            //this.setState({ auth: true });\r\n            //this.setState({ role: 2 });\r\n            this.role = 2;\r\n            // console.log(\"auth after login is \", this.state.auth);\r\n            setTimeout(() => (this.navigate = true), 20);\r\n          } else if (Result.role === \"patient\") {\r\n            console.log(\"patient Login successFully\");\r\n            //this.setState({ auth: true });\r\n            //this.setState({ role: 3 });\r\n            this.role = 3;\r\n            // console.log(\"auth after login is \", this.state.auth);\r\n            setTimeout(() => (this.navigate = true), 20);\r\n          }\r\n          //console.log(\"Login successFully\");\r\n          //this.setState({ auth: true });\r\n          // console.log(\"auth after login is \", this.state.auth);\r\n          //setTimeout(() => this.setState({ navigate: true }), 20);\r\n            //<Redirect to=\"/admin\"/>;\r\n            //return true;\r\n        } else {\r\n          alert(\"Sorry! Un-authenticated User\");\r\n          window.location.reload(false);\r\n          return false;\r\n        }\r\n      })\r\n      .catch((err) => console.error(err));\r\n    // return false;*/\n    this.authenticated;\n    cb();\n  }\n\n  logout(cb) {\n    this.authenticated = false;\n    cb();\n  }\n\n  isAuthenticated() {\n    return this.authenticated;\n  }\n\n  isnavigation() {\n    return this.state.navigate;\n  }\n\n  isRole() {\n    return this.state.role;\n  }\n\n}\n\nexport default new Auth();","map":{"version":3,"sources":["C:/Users/DELL/Desktop/React Work/demoProject/demosite/src/componets/auth/loginAuth.js"],"names":["React","Component","Link","Redirect","Auth","constructor","authenticated","auth","navigate","role","login","cb","logout","isAuthenticated","isnavigation","state","isRole"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;;AAEA,MAAMC,IAAN,CAAW;AACTC,EAAAA,WAAW,GAAG;AACZ,SAAKC,aAAL,GAAqB,KAArB;AACA,SAAKC,IAAL,GAAY,KAAZ;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,IAAL,GAAY,CAAZ;AACD;AACD;;;;;;;AAMAC,EAAAA,KAAK,CAACC,EAAD,EAAK;AACR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,SAAKL,aAAL;AAEAK,IAAAA,EAAE;AACH;;AAEDC,EAAAA,MAAM,CAACD,EAAD,EAAK;AACT,SAAKL,aAAL,GAAqB,KAArB;AACAK,IAAAA,EAAE;AACH;;AAEDE,EAAAA,eAAe,GAAG;AAChB,WAAO,KAAKP,aAAZ;AACD;;AACDQ,EAAAA,YAAY,GAAG;AACb,WAAO,KAAKC,KAAL,CAAWP,QAAlB;AACD;;AACDQ,EAAAA,MAAM,GAAG;AACP,WAAO,KAAKD,KAAL,CAAWN,IAAlB;AACD;;AAhFQ;;AAmFX,eAAe,IAAIL,IAAJ,EAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nclass Auth {\r\n  constructor() {\r\n    this.authenticated = false;\r\n    this.auth = false;\r\n    this.navigate = false;\r\n    this.role = 0;\r\n  }\r\n  /*state = {\r\n    auth: false,\r\n    navigate: false,\r\n    role: 0,\r\n  };*/\r\n\r\n  login(cb) {\r\n    /*const email = \"bilal.khursheed617@gmail.com\";\r\n    const pass = \"12345\";\r\n    fetch(`/user/check/?email=${email}&&pass=${pass}`)\r\n      //fetch(`/user/check/?email=\"Bilal.khursheed617@gmail.com\" && pass=\"12345\"`)\r\n      .then((respone) => respone.json())\r\n      // .then(() => setTimeout(() => this.setState({ navigate: true }), 2000))\r\n      .then((Result) => {\r\n        if (Result.status === \"success\") {\r\n          this.authenticated = true;\r\n          if (Result.role === \"doctor\") {\r\n            console.log(\"doctor Login successFully\");\r\n            //this.setState({ auth: true });\r\n            //this.setState({ role: 1 });\r\n            this.role = 1;\r\n            // console.log(\"auth after login is \", this.state.auth);\r\n            //setTimeout(() => this.setState({ navigate: true }), 20);\r\n            setTimeout(() => (this.navigate = true), 20);\r\n          } else if (Result.role === \"Admin\") {\r\n            console.log(\"admin Login successFully\");\r\n            //this.setState({ auth: true });\r\n            //this.setState({ role: 2 });\r\n            this.role = 2;\r\n            // console.log(\"auth after login is \", this.state.auth);\r\n            setTimeout(() => (this.navigate = true), 20);\r\n          } else if (Result.role === \"patient\") {\r\n            console.log(\"patient Login successFully\");\r\n            //this.setState({ auth: true });\r\n            //this.setState({ role: 3 });\r\n            this.role = 3;\r\n            // console.log(\"auth after login is \", this.state.auth);\r\n            setTimeout(() => (this.navigate = true), 20);\r\n          }\r\n          //console.log(\"Login successFully\");\r\n          //this.setState({ auth: true });\r\n          // console.log(\"auth after login is \", this.state.auth);\r\n          //setTimeout(() => this.setState({ navigate: true }), 20);\r\n\r\n          //<Redirect to=\"/admin\"/>;\r\n\r\n          //return true;\r\n        } else {\r\n          alert(\"Sorry! Un-authenticated User\");\r\n          window.location.reload(false);\r\n          return false;\r\n        }\r\n      })\r\n      .catch((err) => console.error(err));\r\n    // return false;*/\r\n    this.authenticated\r\n\r\n    cb();\r\n  }\r\n\r\n  logout(cb) {\r\n    this.authenticated = false;\r\n    cb();\r\n  }\r\n\r\n  isAuthenticated() {\r\n    return this.authenticated;\r\n  }\r\n  isnavigation() {\r\n    return this.state.navigate;\r\n  }\r\n  isRole() {\r\n    return this.state.role;\r\n  }\r\n}\r\n\r\nexport default new Auth();\r\n"]},"metadata":{},"sourceType":"module"}